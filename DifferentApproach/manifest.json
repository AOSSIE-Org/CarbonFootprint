{
  "manifest_version": 2,
  "name": "Carbon Footprintâ„¢",
  "version": "4.0",
  "description": "Automatically estimates the CO2 emissions for driving on routes suggested by Google Maps.",
  "content_security_policy": "media-src 'self'; object-src 'self'; script-src 'self' https://ssl.google-analytics.com;",
  "default_locale" : "en",
  "background" : 
  {
    "scripts" : ["background/google-analytics.js", "background/background.js"]
  },
  "options_page": "pages/options.html",
  "web_accessible_resources": ["pages/options.html"],
  "page_action" :
  {
    "default_icon" : "images/globe-64.png",
    "default_title" : "Google Maps Carbon Footprint",
    "default_popup": "pages/popup.html"
  },
  "content_scripts" : [
    {
      "matches": ["<all_urls>"],
      "include_globs":  ["*://www.google.*/maps*", "*://maps.google.*/*"],
      "css": ["core/css/main.css"],
      "js" : [
        "core/CarbonFootprintCore.js",
        "core/settings/ChromeSettingsProvider.js",
        "core/maps/GoogleMapsManager.js",
        "core/init.js"
      ],
      "run_at" : "document_end",
      "all_frames" : false
    },
    {
      "matches": ["https://www.openstreetmap.org/*",
        "http://www.openstreetmap.org/*"
      ],
      "css": ["core/css/main.css"],
      "js" : [
        "core/CarbonFootprintCore.js",
        "core/settings/ChromeSettingsProvider.js",
        "core/maps/OpenMapsManager.js",
        "core/init.js"
      ],
      "run_at" : "document_end",
      "all_frames" : true
    },
    {
      "matches": [ "http://www.bing.com/mapspreview*",
        "https://www.bing.com/mapspreview*"
      ],
      "css": ["core/css/main.css"],
      "js" : [
        "core/CarbonFootprintCore.js",
        "core/settings/ChromeSettingsProvider.js",
        "core/maps/BingMapsManager.js",
        "core/init.js"
      ],
      "run_at" : "document_end",
      "all_frames" : true
    }
  ],
  "icons" : {
    "32" : "images/globe-32.png",
    "48" : "images/globe-48.png",
    "64" : "images/globe-64.png",
    "128" : "images/globe-128.png",
    "256" : "images/globe-256.png"
  },
  "permissions": [
    "tabs",
    "storage"
  ]
}
